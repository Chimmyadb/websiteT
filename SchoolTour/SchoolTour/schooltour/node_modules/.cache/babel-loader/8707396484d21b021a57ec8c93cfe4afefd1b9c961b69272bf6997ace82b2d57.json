{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Maryam Adib\\\\Music\\\\School_Tours_System\\\\frontend\\\\SchoolTour\\\\SchoolTour\\\\schooltour\\\\src\\\\pages\\\\Report.js\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useState } from 'react';\nimport axios from 'axios';\nimport '../css/Login.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction Report() {\n  _s();\n  const [reports, setReports] = useState([]);\n  const [filteredReports, setFilteredReports] = useState([]);\n  const [filter, setFilter] = useState('');\n  useEffect(() => {\n    fetchReports();\n  }, []);\n  const fetchReports = async () => {\n    try {\n      const response = await axios.get('http://127.0.0.1:8000/reports/');\n      setReports(response.data);\n      setFilteredReports(response.data);\n    } catch (error) {\n      console.error('Failed to fetch reports:', error);\n    }\n  };\n  const handleFilterChange = e => {\n    const keyword = e.target.value.toLowerCase();\n    setFilter(keyword);\n    if (keyword.trim() === '') {\n      setFilteredReports(reports);\n    } else {\n      setFilteredReports(reports.filter(report => report.tour_id.title.toLowerCase().includes(keyword)));\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"report-container\",\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      children: \"Tour Reports\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 40,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n      type: \"text\",\n      placeholder: \"Filter by tour title...\",\n      value: filter,\n      onChange: handleFilterChange,\n      className: \"report-filter\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 41,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"report-list\",\n      children: filteredReports.length > 0 ? filteredReports.map(report => /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"report-card\",\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          children: report.title\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 53,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"report-tour\",\n          children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n            children: \"Tour:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 55,\n            columnNumber: 17\n          }, this), \" \", report.tour_id.title]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 54,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: report.content\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 57,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"report-date\",\n          children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n            children: \"Created At:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 59,\n            columnNumber: 17\n          }, this), \" \", new Date(report.created_at).toLocaleString()]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 58,\n          columnNumber: 15\n        }, this)]\n      }, report.report_id, true, {\n        fileName: _jsxFileName,\n        lineNumber: 52,\n        columnNumber: 13\n      }, this)) : /*#__PURE__*/_jsxDEV(\"p\", {\n        children: \"No reports found.\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 64,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 39,\n    columnNumber: 5\n  }, this);\n}\n_s(Report, \"05LFdkUxgMG3xvaGJEsvRr0msBU=\");\n_c = Report;\nexport default Report;\nvar _c;\n$RefreshReg$(_c, \"Report\");","map":{"version":3,"names":["React","useEffect","useState","axios","jsxDEV","_jsxDEV","Report","_s","reports","setReports","filteredReports","setFilteredReports","filter","setFilter","fetchReports","response","get","data","error","console","handleFilterChange","e","keyword","target","value","toLowerCase","trim","report","tour_id","title","includes","className","children","fileName","_jsxFileName","lineNumber","columnNumber","type","placeholder","onChange","length","map","content","Date","created_at","toLocaleString","report_id","_c","$RefreshReg$"],"sources":["C:/Users/Maryam Adib/Music/School_Tours_System/frontend/SchoolTour/SchoolTour/schooltour/src/pages/Report.js"],"sourcesContent":["import React, { useEffect, useState } from 'react';\r\nimport axios from 'axios';\r\nimport '../css/Login.css';\r\n\r\nfunction Report() {\r\n  const [reports, setReports] = useState([]);\r\n  const [filteredReports, setFilteredReports] = useState([]);\r\n  const [filter, setFilter] = useState('');\r\n\r\n  useEffect(() => {\r\n    fetchReports();\r\n  }, []);\r\n\r\n  const fetchReports = async () => {\r\n    try {\r\n      const response = await axios.get('http://127.0.0.1:8000/reports/');\r\n      setReports(response.data);\r\n      setFilteredReports(response.data);\r\n    } catch (error) {\r\n      console.error('Failed to fetch reports:', error);\r\n    }\r\n  };\r\n\r\n  const handleFilterChange = (e) => {\r\n    const keyword = e.target.value.toLowerCase();\r\n    setFilter(keyword);\r\n    if (keyword.trim() === '') {\r\n      setFilteredReports(reports);\r\n    } else {\r\n      setFilteredReports(\r\n        reports.filter((report) =>\r\n          report.tour_id.title.toLowerCase().includes(keyword)\r\n        )\r\n      );\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"report-container\">\r\n      <h2>Tour Reports</h2>\r\n      <input\r\n        type=\"text\"\r\n        placeholder=\"Filter by tour title...\"\r\n        value={filter}\r\n        onChange={handleFilterChange}\r\n        className=\"report-filter\"\r\n      />\r\n\r\n      <div className=\"report-list\">\r\n        {filteredReports.length > 0 ? (\r\n          filteredReports.map((report) => (\r\n            <div className=\"report-card\" key={report.report_id}>\r\n              <h3>{report.title}</h3>\r\n              <p className=\"report-tour\">\r\n                <strong>Tour:</strong> {report.tour_id.title}\r\n              </p>\r\n              <p>{report.content}</p>\r\n              <p className=\"report-date\">\r\n                <strong>Created At:</strong> {new Date(report.created_at).toLocaleString()}\r\n              </p>\r\n            </div>\r\n          ))\r\n        ) : (\r\n          <p>No reports found.</p>\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Report;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}